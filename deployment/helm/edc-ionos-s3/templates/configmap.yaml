apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "edc-ionos-s3.fullname" . }}-config
data:
  config.properties: |
    web.http.port={{ .Values.web.http.port }}
    web.http.path={{ .Values.web.http.path }}
    web.http.management.port={{ .Values.web.http.management.port }}
    web.http.management.path={{ .Values.web.http.management.path }}
    web.http.protocol.port={{ .Values.web.http.protocol.port }}
    web.http.protocol.path={{ .Values.web.http.protocol.path }}
    web.http.public.port={{ .Values.web.http.public.port }}
    web.http.public.path={{ .Values.web.http.public.path }}
    web.http.control.port={{ .Values.web.http.control.port }}
    web.http.control.path={{ .Values.web.http.control.path }}
    edc.api.auth.key={{ .Values.edc.api.auth.key }}
    edc.participant.id={{ .Values.edc.participant.id }}
    edc.ionos.access.key={{ .Values.edc.ionos.accessKey }}
    edc.ionos.secret.key={{ .Values.edc.ionos.secretKey }}
    edc.ionos.endpoint={{ .Values.edc.ionos.endpoint }}
    edc.ionos.token={{ .Values.edc.ionos.token }}
    edc.vault.hashicorp.url={{ .Values.edc.vault.hashicorp.url }}
    edc.vault.hashicorp.token={{ .Values.edc.vault.hashicorp.token }}
    edc.vault.hashicorp.timeout.seconds={{ .Values.edc.vault.hashicorp.timeout.seconds }}
    edc.ids.id={{ .Values.edc.ids.id }}
    edc.dsp.callback.address={{ .Values.edc.dsp.callback.address }}:{{ .Values.web.http.protocol.port }}{{ .Values.web.http.protocol.path }}
    edc.receiver.http.endpoint={{ .Values.edc.receiver.http.endpoint }}/receiver/{{ .Values.edc.ids.id }}/callback
    edc.public.key.alias={{ .Values.edc.public.key.alias }}
    edc.dataplane.token.validation.endpoint={{ .Values.edc.dataplane.token.validation.endpoint }}:{{ .Values.web.http.control.port }}{{ .Values.web.http.control.path }}/token
